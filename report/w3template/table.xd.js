/* $Id$ 
 * Copyright (c) 2011 IBM Corporation
 * Owner: Corporate Webmaster (NUS_N_NIWWW)
 */

dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","ibmweb.table"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["ibmweb.table"]){_4._hasResource["ibmweb.table"]=true;_4.provide("ibmweb.table");ibmweb.table.initSortableTable=function(_7){var _8={cssAsc:"ibm-sort-up",cssDesc:"ibm-sort-down",cssHeader:"",headers:[],debug:false};(_7 instanceof jQuery?_7:jQuery(_7)).find("thead tr:first > th").each(function(i){var th=jQuery(this),_9;if(!th.hasClass("ibm-sort")){_8.headers[i]={sorter:false};}else{if(th.find("a").length<1){_9=th.text();th.empty().append("<a href=\"#sort\"><span>"+_9+"</span><span class=\"ibm-icon\">&nbsp;</span></a>");}if(th.hasClass("ibm-date")){_8.headers[i]={sorter:"ibmdate"};}}}).end().tablesorter(_8).bind("sortEnd",function(){if(jQuery(this).hasClass("ibm-alternating")){ibmweb.table.initAltRowReShade(this);}});};ibmweb.table.initAltRowShading=function(_a){ibmweb.table.initSortColShading(_a);_4.query("tbody tr.ibm-alt-row",_a).removeClass("ibm-alt-row");_4.query("tbody tr:nth-child(even)",_a).addClass("ibm-alt-row");};ibmweb.table.initSortColShading=function(_b){if(_4.hasClass(_b,"ibm-sortable-table")){var r=new Array();r=_4.query("thead th",_b);for(var i=0;i<r.length;i++){if(_4.hasClass(r[i],"ibm-sort")){_4.query("tbody td:nth-child("+(i+1)+")",_b).addClass("ibm-sort-column");}}}};ibmweb.table.initAltRowReShade=function(_c){ibmweb.table.initSortColShading(_c);_4.query("tbody tr.ibm-alt-row",_c).removeClass("ibm-alt-row");for(var i=1;i<=_4.query("tbody tr",_c).length;i++){i=i+1;_4.query("tbody",_c).children("tr:nth-child("+i+")").removeClass("ibm-alt-row");_4.query("tbody",_c).children("tr:nth-child("+i+")").addClass("ibm-alt-row");}};ibmweb.table.initAltColShading=function(_d,_e){ibmweb.table.initSortColShading(_d);var r=_4.query("tbody tr",_d);_4.query("tbody td.ibm-alt-col",_d).removeClass("ibm-alt-col");if(_e){_4.query("tbody td:nth-child(odd)",_d).addClass("ibm-alt-col");_4.query("tbody tr td:first-child",_d).removeClass("ibm-alt-col");}else{_4.query("tbody td:nth-child(even)",_d).addClass("ibm-alt-col");}};_4.addOnLoad(function(){if(!ibmweb.info.v17){return;}if(_4.isIE<7){_4.query("table.ibm-data-table tbody tr").onmouseover(function(){_4.addClass(this,"ibm-highlight-row");}).onmouseout(function(){_4.removeClass(this,"ibm-highlight-row");});}_4.query("table.ibm-alternating").forEach(function(_f){ibmweb.table.initAltRowShading(_f);});_4.query("table.ibm-alternating-col").forEach(function(_10){var _11=_4.query("tbody div.dijitCheckBox",_10).length>0;ibmweb.table.initAltColShading(_10,_11);_4.query("tbody td",_10).onmouseover(function(){if(_4.hasClass(this,"ibm-alt-col")){var td=this;_4.query("td",this.parentNode).forEach(function(i,c){if(td==i){_4.query("tbody tr td:nth-child("+(c+(_11?2:1))+")",_10).addClass("ibm-alt-col-hover");}});}}).onmouseout(function(){_4.query("tbody td.ibm-alt-col-hover",_10).removeClass("ibm-alt-col-hover");});});_4.ready(function(){var _12=_4.query("table.ibm-sortable-table");if(_12.length>0){_4["require"]("ibmweb.jquery");_4.ready(function(){_4["require"]("ibmweb.tablesorter");_4.ready(function(){for(var i=0,j=_12.length;i<j;i++){ibmweb.table.initSortableTable(_12[i]);ibmweb.table.initSortColShading(_12[i]);}});});}});});_4.subscribe("/ibmweb/form/initialized",function(){var _13=[],_14=[],_15=[],_16=function(e,t,d,_17){var el=e.focusNode;while(el&&el.nodeName&&el.nodeName.toLowerCase()!="tr"){el=el.parentNode;}var _18=e.checked?"addClass":"removeClass";_4[_18](el,"ibm-alt-row-checked");if(e.checked){_14[t]++;if(_14[t]>_13[t]){_14[t]=_13[t];}}else{if(!_17){_14[t]--;if(_14[t]<0){_14[t]=0;}}}if(typeof d!=="undefined"&&!_15[t]){d.attr("checked",(_13[t]==_14[t]));}},_19=function(_1a,d,t){_15[t]=true;for(var i=0;i<_1a.length;i+=1){if((d.checked&&!_1a[i].checked)||(!d.checked&&_1a[i].checked)){_1a[i]._onClick();}else{if(_1a[i].checked){_14[t]++;if(_14[t]>_13[t]){_14[t]=_13[t];}}else{_14[t]--;if(_14[t]<0){_14[t]=0;}}}}_15[t]=false;};_4.query("table.ibm-data-table").forEach(function(_1b,t){_14[t]=0;_15[t]=false;ibmweb.table.initSortColShading(_1b);var _1c=[],_1d=_4.query("thead div.dijitCheckBox",_1b),div=_4.query("tbody div.dijitCheckBox",_1b),d;if(div.length>0){if(_1d.length==1){d=_5.byId(_1d[0].getAttribute("widgetid"));_4.connect(d,"onClick",_4.hitch(this,function(){_19(_1c,d,t);}));}div.forEach(function(i){var _1e=_5.byId(i.getAttribute("widgetid"));_4.connect(_1e,"_onClick",function(){_16(_1e,t,d,false);});_1c.push(_1e);});_13[t]=parseInt(_1c.length);if(d.checked){_19(_1c,d,t);}else{_4.forEach(_1c,function(_1f){_16(_1f,t,d,true);});}}});});}}};});